<!DOCTYPE html>
<html>
    <head>
        <title>Click 2 play</title>
        <style>
            img{cursor:pointer};
        </style>
        <script>
            var Util , ALBUM;
            
            (function(){
                "strct mode";
                
                ALBUM = {
                    'РЖБ - Глаза Богини Дурги'  : 569228,
                    assai                       : 2660004,
                    assai_marsel                : 293638,
                    basta_guf                   : 1383527,
                    dakraj_gillia               : 489707,
                    'Danger Mouse - Grey Album' : 571950,
                    karandash                   : 37007776,
                    vladi                       : 1635286,
                    vitja_ak                    : 2059665,
                    remdigga                    : 2641504,
                    robot_koch_the_other_side   : 1234248,
                    kravc                       : 2658687,
                    radj_leftlovers             : 2323825,
                    st                          : 941872,
                    triada                      : 2679062
                };
                
                var Player;
                
                Util = {
                    getIdByEmbedCode    : function(pEmbedCode){
                        var lPlaylist   = '%2Fplaylists%2F',
                            lBe4        = pEmbedCode.indexOf(lPlaylist);
                        
                        pEmbedCode = pEmbedCode.substr(lBe4)
                            .replace(lPlaylist,'');
                        
                        var lAfter = pEmbedCode.substr(pEmbedCode.indexOf('&')),
                            lId = pEmbedCode.replace(lAfter,'');
                        
                        return lId;
                    },
                    
                    getById             : function (pId, pElement){
                        return (document || pElement).getElementById(pId)
                    }
                }
                
                function loadPlayer(pSrc){            
                    return function(pEvent){                
                        var lSrc = ALBUM[pEvent.target.id];
                        
                        Player.src = "//w.soundcloud.com/player/?url=http%3A%2F%2Fapi.soundcloud.com%2Fplaylists%2F" +
                            lSrc + '&amp;auto_play=true&amp;show_artwork=true&amp;color=ff7700';
                    }
                }
                        
                window.onload = function(){
                    Player = Util.getById('player');
                    
                    for(lName in ALBUM){
                        var lElem = Util.getById(lName)
                        if(lElem)
                            lElem.onclick = loadPlayer();
                        else console.log('Error ' + lName + ' album key not found.')
                    }
                }
            })()
        </script>
    </head>
    <body> 
        <div class=covers>{{ albums }}</div>
        <iframe id="player" width="100%" height="450" scrolling="no" frameborder="no"></iframe>
    </body>
</html>
